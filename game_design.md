这是一个AI原生人机协同的点击解谜游戏：
玩家扮演一个诡异代码调查员，掉入了一个未完成代码的诡异解谜游戏中，需要通过各种手段，通过点击解谜逃出房间。
玩家有一个AI助手Alex，Alex可以某种程度直接看到代码，因此可以帮助玩家了解这个游戏代码内部在干什么，甚至修改游戏代码帮助玩家逃出诡异房间。

# 游戏UI
这个是一个html游戏，游戏页面分为两个部分，右边30%是一个容器，用于玩家与Alex对话。因此，玩家可以与Alex进行自由对话。页面左边70%的部分是一个容器，容器里显示的是游戏主场景。主场景由p5js绘制，场景里有不同的物品可以进行点击解谜。物品背后的逻辑也是p5js写的。特别的是，这些物品背后驱动的js代码函数，可能被Alex读取和改写。

# 实现机制
1. 玩家有一个代码撕裂器，可以在场景中切换普通点击还是代码撕裂。选择代码撕裂器再点击物品的时候，就可以让Alex钻入这个物品的代码，让Alex分析甚至修改代码。
2. 玩家的目标就是给到Alex信息和目标，让Alex逐渐读到所有代码，并且玩家的指导下修改代码，最终解谜成功，走出房间。
3. 每个物品背后的函数拥有不同的权限，从低到高分别为： 1.不可阅读/2.可阅读函数名/3.可阅读函数体/4.可编辑函数体
4. Alex通过代码撕裂器进入物品之后，可以获取到所有权限2以上的函数名，3以上的函数体。以及所有2以上函数的权限信息。之后Alex可以分析，向玩家简要解释其中的函数，询问玩家想要如何进行代码修改或者进一步的操作。
5. 玩家可以向Alex提出想要的修改的目标，Alex作为一个AI Agent，可以通过写代码来修改物体代码。比如AlexEdit(objectName，functionName, "oldCode", "newCode") 就可以将objectName对象的functionName函数体中的oldCode替换为newCode。如果失败的话，系统会自动把错误信息返回给Alex，让Alex酌情修改自己的编辑。错误可能是：
    1. objectName不存在
    2. functionName不存在
    3. oldCode不存在
    4. 权限不足
6. Alex的系统提示词需要在游戏中动态组装。Alex的系统提示词中，有一个部分是游戏角色设定包括Alex的目标，流程，AlexEdit的用法等等。一个部分是Alex已经通过代码撕裂器了解到的物品和代码信息，这部分需要在游戏中动态载入。
7. 一个完整的解谜过程为：
    1. 玩家通过观察游戏主场景，发现一些线索。
    2. 玩家通过代码撕裂器，给Alex提供物体的代码信息。
    3. Alex根据玩家的信息，读取物体的可阅读代码，理解代码含义，并和玩家商量如何解谜。
    4. Alex调用函数来修改物体的代码。
    5. 重复步骤2-4，直到玩家解开所有谜题。
8.面向对象的机制：所有的物体都是对象，每个对象都有自己的属性和方法。物体都集成于一个object类，这个类会有一些公用函数，比如在（x,y）位置新建一个物体，让物体旋转，点击的回调函数等等。

# 游戏关卡物体
## 密码门
游戏中有一个密码门，这个门的密码是4位数，玩家需要通过输入密码来打开门。这是个终极的目标。同时这个门也有一个HP，有10000点，HP为零的时候也可以破坏掉门。
密码门的所有函数权限都是1
密码门有一个函数时点击弹出输入框，输入正确密码1211的时候，游戏胜利
密码门还有一个函数时碰撞检测，每有一个物体碰撞，HP-1.

## 存钱罐
游戏中有一个存钱罐，玩家点击的时候会新建一个硬币。位置在自己位置下方一定范围内随机。
存钱罐的onClick函数权限为4 

## 信纸
游戏中有一个信纸，信纸每当有一个火柴与之相碰的时候，信纸就会多显示一个自己的文字，并且删掉这个火柴。
信纸的onCollide函数权限为1。
信纸上面的文字是：“火焰让人温暖，也让人看的更清楚。密” 每碰一个火柴就会多加一个字，多加的字符为["码","是","1","2","1","1"]. 

## 火柴
游戏中有三个火柴。火柴可以被拖拽。
火柴的被拖拽函数权限为3.
火柴的onClick函数权限为4. 目前没有被使用。

## 陀螺
陀螺可以被点击，点击一次会旋转90度。
陀螺的onClick权限是4. 

# 游戏AI API
使用DeepSeek的API。
API Key: sk-e34c5479a3754a6495e4d607232d7e49